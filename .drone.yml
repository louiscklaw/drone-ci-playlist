
kind: pipeline
type: docker
name: hello_failure

steps:
- name: hello_failure
  failure: ignore
  image: ubuntu
  commands:
  - ./hello_failure/fail.sh

---
kind: pipeline
type: docker
name: hello-merger

platform:
  os: linux
  arch: arm

steps:
- name: hello-merger
  image: alpine
  commands:
  - cd hello-merger
  -   echo hello
  -   echo world
  - cd
---

kind: pipeline
name: hello-secrets

platform:
  os: linux
  arch: arm

steps:
- name: build
  image: ubuntu
  environment:
    SLACK_TOKEN:
      from_secret: slack_token

  commands:
  - echo hello
  - echo world


---
kind: secret
name: slack_token
data: UsAb4S8kczyyOKWbdgpd5YnKrq3YuOBHiPyt7/Eiwj6bjvMtqkyxiQEWQDdXwY8=

---

kind: pipeline
type: docker
name: helloworld

steps:
- name: helloworld
  image: alpine
  commands:
  - echo hello
  - echo world

---
kind: pipeline
type: docker
name: helloworld-rpi

platform:
  os: linux
  arch: arm

steps:
- name: helloworld
  image: alpine
  commands:
  - echo hello
  - echo world
